<#--
  Copyright (c) 2016 Bernd Wengenroth
  Licensed under the MIT License.
  See LICENSE file for details.
-->
<#include "../HelperFunctions.fm">
/************************************
 * ${file.name}
 *
 * Test Reader for ${c_comment_string(namespace.uri)}
 *
 * Generated by XmlPGen (c) 2013 - 2016 Bernd Wengenroth
 * ${timestamp()}   
 */
<#assign Clazz = "::"+namespace.GName+"::"+namespace.root.type.TypeHPP.GName>
<#assign Schema= "::"+namespace.GName+"::"+namespace.SchemaHPP.GName>
#include "XmlPGen/TTypeProxy.h"
#include "XmlPGen/libxml2/LibXML2Parser.h"
#include "XmlPGen/StringWriter.h"
#include ${MakeLocalPath(namespace.SchemaHPP.GPath)}

int main(int argc, char* argv[])
{
    if ( argc > 1 )
    {
        ::XmlPGen::LibXML2Parser parser;

        ${getPtrType(Schema)} schemaPtr { ${getPtrNew(Schema)} };
        
        parser.addSchema( schemaPtr );
        
        parser.parse( argv[1] );
        // TODO
        
        ::XmlPGen::StringWriter sw(::XmlPGen::PRETTY);
        ::XmlPGen::write( root, sw );

        printf("Result:\n%s\n", sw.getString().c_str() );
    }    
    return 0;
}